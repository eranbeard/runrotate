<!-- 
  Shoe Card Component
  
  Props:
  - shoeName: Name of the shoe (e.g., "Nike Pegasus 40")
  - rating: Shoe rating out of 5 (e.g., 4.5)
  - likes: Number of likes
  - comments: Number of comments
  - brand: Shoe brand (e.g., "Nike")
  - shoeId: Unique identifier for the shoe
-->

<div class="bg-white dark:bg-gray-800 rounded-xl overflow-hidden shadow-md hover:shadow-lg transition-all flex flex-col h-full">
    <div class="p-4">
        <div class="flex items-center space-x-2">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-gray-600 dark:text-gray-300">
                <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
                <path d="M4 6h5.426a1 1 0 0 1 .863 .496l1.064 1.823a3 3 0 0 0 1.896 1.407l4.677 1.114a4 4 0 0 1 3.074 3.89v2.27a1 1 0 0 1 -1 1h-16a1 1 0 0 1 -1 -1v-10a1 1 0 0 1 1 -1z" />
                <path d="M14 13l1 -2" />
                <path d="M8 18v-1a4 4 0 0 0 -4 -4h-1" />
                <path d="M10 12l1.5 -3" />
            </svg>
            <h3 class="font-bold text-base">{{shoeName}}</h3>
        </div>
    </div>
    <div class="px-4">
        <div class="aspect-[3/2] bg-gray-100 dark:bg-gray-700 rounded-lg">
            <!-- Shoe image would go here -->
        </div>
    </div>
    <div class="p-4 mt-auto">
        <div class="flex items-center justify-between">
            <div class="flex items-center">
                <div class="flex">
                    {{#times 5}}
                        {{#if (gte rating @index)}}
                            <i data-lucide="star" class="w-4 h-4 text-yellow-400 fill-current"></i>
                        {{else}}
                            <i data-lucide="star" class="w-4 h-4 text-gray-300 fill-current"></i>
                        {{/if}}
                    {{/times}}
                </div>
                <span class="ml-2 text-sm text-gray-500 dark:text-gray-400">{{rating}}</span>
            </div>
            <div class="flex items-center space-x-4">
                <button class="flex items-center text-gray-500 hover:text-emerald-500 transition-colors">
                    <i data-lucide="heart" class="w-4 h-4"></i>
                    <span class="ml-1 text-sm">{{likes}}</span>
                </button>
                <button class="flex items-center text-gray-500 hover:text-emerald-500 transition-colors">
                    <i data-lucide="message-circle" class="w-4 h-4"></i>
                    <span class="ml-1 text-sm">{{comments}}</span>
                </button>
            </div>
        </div>
    </div>
</div>

<!-- Helper Handlebars helpers for star ratings -->
<script>
// Register Handlebars helpers if not already registered
if (typeof Handlebars !== 'undefined') {
    // Helper to repeat a block N times
    Handlebars.registerHelper('times', function(n, block) {
        let accum = '';
        for (let i = 0; i < n; i++) {
            accum += block.fn(i);
        }
        return accum;
    });

    // Greater than or equal helper
    Handlebars.registerHelper('gte', function(a, b, options) {
        return a >= b ? options.fn(this) : options.inverse(this);
    });

    // Subtract helper
    Handlebars.registerHelper('subtract', function(a, b) {
        return a - b;
    });
}
</script>
