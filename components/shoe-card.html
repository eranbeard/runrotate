<!-- 
  Shoe Card Component
  
  Props:
  - shoeName: Name of the shoe (e.g., "Nike Pegasus 40")
  - rating: Shoe rating out of 5 (e.g., 4.5)
  - likes: Number of likes
  - comments: Number of comments
  - brand: Shoe brand (e.g., "Nike")
  - shoeId: Unique identifier for the shoe
-->

<div class="bg-white dark:bg-gray-800 rounded-xl overflow-hidden shadow-md hover:shadow-lg transition-all flex flex-col h-full">
    <div class="p-4">
        <h3 class="font-bold text-base">{{shoeName}}</h3>
    </div>
    <div class="px-4">
        <div class="aspect-[3/2] bg-gray-100 dark:bg-gray-700 rounded-lg">
            <!-- Shoe image would go here -->
        </div>
    </div>
    <div class="p-4 mt-auto">
        <div class="flex items-center justify-between">
            <div class="flex items-center">
                <div class="flex">
                    {{#times 5}}
                        {{#if (gte rating @index)}}
                            <i data-lucide="star" class="w-4 h-4 text-yellow-400 fill-current"></i>
                        {{else}}
                            <i data-lucide="star" class="w-4 h-4 text-gray-300 fill-current"></i>
                        {{/if}}
                    {{/times}}
                </div>
                <span class="ml-2 text-sm text-gray-500 dark:text-gray-400">{{rating}}</span>
            </div>
            <div class="flex items-center space-x-4">
                <button class="flex items-center text-gray-500 hover:text-emerald-500 transition-colors">
                    <i data-lucide="heart" class="w-4 h-4"></i>
                    <span class="ml-1 text-sm">{{likes}}</span>
                </button>
                <button class="flex items-center text-gray-500 hover:text-emerald-500 transition-colors">
                    <i data-lucide="message-circle" class="w-4 h-4"></i>
                    <span class="ml-1 text-sm">{{comments}}</span>
                </button>
            </div>
        </div>
    </div>
</div>

<!-- Helper Handlebars helpers for star ratings -->
<script>
// Register Handlebars helpers if not already registered
if (typeof Handlebars !== 'undefined') {
    // Helper to repeat a block N times
    Handlebars.registerHelper('times', function(n, block) {
        let accum = '';
        for (let i = 0; i < n; i++) {
            accum += block.fn(i);
        }
        return accum;
    });

    // Greater than or equal helper
    Handlebars.registerHelper('gte', function(a, b, options) {
        return a >= b ? options.fn(this) : options.inverse(this);
    });

    // Subtract helper
    Handlebars.registerHelper('subtract', function(a, b) {
        return a - b;
    });
}
</script>
